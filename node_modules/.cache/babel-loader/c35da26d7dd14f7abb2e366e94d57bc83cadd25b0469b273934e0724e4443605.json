{"ast":null,"code":"import _objectSpread from\"/Users/apple/Documents/GitHub/react-stellar-burger/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/apple/Documents/GitHub/react-stellar-burger/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{CurrencyIcon,Counter}from'@ya.praktikum/react-developer-burger-ui-components';import CStyle from'./Card.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=function Card(props){var _useState=useState(props.count+1||0),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];// Initialize count with props.count + 1\nvar handleItemClick=function handleItemClick(){var updatedCount=count+1;setCount(updatedCount);if(props.onClick){props.onClick(_objectSpread(_objectSpread({},props),{},{count:updatedCount}));}};var handleRemoveClick=function handleRemoveClick(){if(count>0){var updatedCount=count-1;setCount(updatedCount);if(props.onClick){props.onClick(_objectSpread(_objectSpread({},props),{},{count:updatedCount}));}}};// Generate a unique key for each card\nvar cardKey=\"\".concat(props._id,\"-\").concat(props.count||0);return/*#__PURE__*/_jsxs(\"li\",{className:CStyle.card,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(CStyle['card-container'],\" pl-4 pr-4\"),onClick:handleItemClick,children:[/*#__PURE__*/_jsx(\"img\",{src:props.image,alt:props.name}),count>0&&/*#__PURE__*/_jsx(Counter,{count:count,size:\"default\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},className:\"mt-1 mb-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text text_type_digits-default mr-2\",children:props.price}),/*#__PURE__*/_jsx(CurrencyIcon,{type:\"primary\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{minHeight:'48px',textAlign:'center'},className:\"text text_type_main-default\",children:props.name})]},cardKey);};export default Card;","map":{"version":3,"names":["React","useState","CurrencyIcon","Counter","CStyle","jsx","_jsx","jsxs","_jsxs","Card","props","_useState","count","_useState2","_slicedToArray","setCount","handleItemClick","updatedCount","onClick","_objectSpread","handleRemoveClick","cardKey","concat","_id","className","card","children","src","image","alt","name","size","style","display","price","type","minHeight","textAlign"],"sources":["/Users/apple/Documents/GitHub/react-stellar-burger/src/components/Card/Card.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { CurrencyIcon, Counter } from '@ya.praktikum/react-developer-burger-ui-components';\nimport CStyle from './Card.module.css';\n\nconst Card = (props) => {\n  const [count, setCount] = useState(props.count + 1 || 0); // Initialize count with props.count + 1\n\n  const handleItemClick = () => {\n    const updatedCount = count + 1;\n    setCount(updatedCount);\n    if (props.onClick) {\n      props.onClick({ ...props, count: updatedCount });\n    }\n  };\n\n  const handleRemoveClick = () => {\n    if (count > 0) {\n      const updatedCount = count - 1;\n      setCount(updatedCount);\n      if (props.onClick) {\n        props.onClick({ ...props, count: updatedCount });\n      }\n    }\n  };\n\n  // Generate a unique key for each card\n  const cardKey = `${props._id}-${props.count || 0}`;\n\n  return (\n    <li className={CStyle.card} key={cardKey}>\n      <div\n        className={`${CStyle['card-container']} pl-4 pr-4`}\n        onClick={handleItemClick}\n      >\n        <img src={props.image} alt={props.name} />\n        {count > 0 && <Counter count={count} size=\"default\" />}\n      </div>\n      <div style={{ display: 'flex' }} className=\"mt-1 mb-1\">\n        <p className=\"text text_type_digits-default mr-2\">{props.price}</p>\n        <CurrencyIcon type=\"primary\" />\n      </div>\n      <p style={{ minHeight: '48px', textAlign: 'center' }} className=\"text text_type_main-default\">\n        {props.name}\n      </p>\n    </li>\n  );\n};\n\nexport default Card;\n"],"mappings":"+QAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,YAAY,CAAEC,OAAO,KAAQ,oDAAoD,CAC1F,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAIC,KAAK,CAAK,CACtB,IAAAC,SAAA,CAA0BV,QAAQ,CAACS,KAAK,CAACE,KAAK,CAAG,CAAC,EAAI,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAAjDC,KAAK,CAAAC,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAAoC;AAE1D,GAAM,CAAAG,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC5B,GAAM,CAAAC,YAAY,CAAGL,KAAK,CAAG,CAAC,CAC9BG,QAAQ,CAACE,YAAY,CAAC,CACtB,GAAIP,KAAK,CAACQ,OAAO,CAAE,CACjBR,KAAK,CAACQ,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAMT,KAAK,MAAEE,KAAK,CAAEK,YAAY,EAAE,CAAC,CAClD,CACF,CAAC,CAED,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9B,GAAIR,KAAK,CAAG,CAAC,CAAE,CACb,GAAM,CAAAK,YAAY,CAAGL,KAAK,CAAG,CAAC,CAC9BG,QAAQ,CAACE,YAAY,CAAC,CACtB,GAAIP,KAAK,CAACQ,OAAO,CAAE,CACjBR,KAAK,CAACQ,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAMT,KAAK,MAAEE,KAAK,CAAEK,YAAY,EAAE,CAAC,CAClD,CACF,CACF,CAAC,CAED;AACA,GAAM,CAAAI,OAAO,IAAAC,MAAA,CAAMZ,KAAK,CAACa,GAAG,MAAAD,MAAA,CAAIZ,KAAK,CAACE,KAAK,EAAI,CAAC,CAAE,CAElD,mBACEJ,KAAA,OAAIgB,SAAS,CAAEpB,MAAM,CAACqB,IAAK,CAAAC,QAAA,eACzBlB,KAAA,QACEgB,SAAS,IAAAF,MAAA,CAAKlB,MAAM,CAAC,gBAAgB,CAAC,cAAa,CACnDc,OAAO,CAAEF,eAAgB,CAAAU,QAAA,eAEzBpB,IAAA,QAAKqB,GAAG,CAAEjB,KAAK,CAACkB,KAAM,CAACC,GAAG,CAAEnB,KAAK,CAACoB,IAAK,CAAE,CAAC,CACzClB,KAAK,CAAG,CAAC,eAAIN,IAAA,CAACH,OAAO,EAACS,KAAK,CAAEA,KAAM,CAACmB,IAAI,CAAC,SAAS,CAAE,CAAC,EACnD,CAAC,cACNvB,KAAA,QAAKwB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAACT,SAAS,CAAC,WAAW,CAAAE,QAAA,eACpDpB,IAAA,MAAGkB,SAAS,CAAC,oCAAoC,CAAAE,QAAA,CAAEhB,KAAK,CAACwB,KAAK,CAAI,CAAC,cACnE5B,IAAA,CAACJ,YAAY,EAACiC,IAAI,CAAC,SAAS,CAAE,CAAC,EAC5B,CAAC,cACN7B,IAAA,MAAG0B,KAAK,CAAE,CAAEI,SAAS,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAS,CAAE,CAACb,SAAS,CAAC,6BAA6B,CAAAE,QAAA,CAC1FhB,KAAK,CAACoB,IAAI,CACV,CAAC,GAd2BT,OAe7B,CAAC,CAET,CAAC,CAED,cAAe,CAAAZ,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}