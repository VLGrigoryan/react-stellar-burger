{"ast":null,"code":"import _objectSpread from\"/Users/apple/Documents/GitHub/react-stellar-burger/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/apple/Documents/GitHub/react-stellar-burger/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/apple/Documents/GitHub/react-stellar-burger/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import AppHeader from'../AppHeader/AppHeader';import BurgerConstructor from'../BurgerConstructor/BurgerConstructor';import BurgerIngredients from'../BurgerIngredients/BurgerIngredients';import AppStyle from'./App.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),constructorItems=_useState2[0],setConstructorItems=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),totalPrice=_useState4[0],setTotalPrice=_useState4[1];var addToConstructor=function addToConstructor(product){var existingProductIndex=constructorItems.findIndex(function(item){return item.id===product.id;});if(existingProductIndex!==-1){var updatedItems=_toConsumableArray(constructorItems);updatedItems[existingProductIndex]=_objectSpread(_objectSpread({},updatedItems[existingProductIndex]),{},{count:updatedItems[existingProductIndex].count+1});setConstructorItems(updatedItems);}else{setConstructorItems(function(prevItems){return[].concat(_toConsumableArray(prevItems),[_objectSpread(_objectSpread({},product),{},{id:Date.now(),count:1})]);});}setTotalPrice(function(prevPrice){return prevPrice+product.price;});};var deleteFromConstructor=function deleteFromConstructor(productId,price,count){var existingProductIndex=constructorItems.findIndex(function(item){return item.id===productId;});if(existingProductIndex!==-1){var updatedItems=_toConsumableArray(constructorItems);if(count>1){updatedItems[existingProductIndex]=_objectSpread(_objectSpread({},updatedItems[existingProductIndex]),{},{count:updatedItems[existingProductIndex].count-1});}else{updatedItems.splice(existingProductIndex,1);}setConstructorItems(updatedItems);setTotalPrice(function(prevPrice){return prevPrice-price*count;});}};var handleItemClick=function handleItemClick(item){addToConstructor(_objectSpread(_objectSpread({},item),{},{count:item.count+1}));};var handleRemoveClick=function handleRemoveClick(item){if(item.count>0){deleteFromConstructor(item.id,item.price,item.count);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AppHeader,{}),/*#__PURE__*/_jsxs(\"main\",{className:AppStyle.content,children:[/*#__PURE__*/_jsx(BurgerIngredients,{onAddToConstructor:addToConstructor}),/*#__PURE__*/_jsx(BurgerConstructor,{constructorItems:constructorItems,onDeleteFromConstructor:deleteFromConstructor,totalPrice:totalPrice,onItemClick:handleItemClick,onRemoveClick:handleRemoveClick})]})]});};export default App;","map":{"version":3,"names":["React","useState","AppHeader","BurgerConstructor","BurgerIngredients","AppStyle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useState","_useState2","_slicedToArray","constructorItems","setConstructorItems","_useState3","_useState4","totalPrice","setTotalPrice","addToConstructor","product","existingProductIndex","findIndex","item","id","updatedItems","_toConsumableArray","_objectSpread","count","prevItems","concat","Date","now","prevPrice","price","deleteFromConstructor","productId","splice","handleItemClick","handleRemoveClick","children","className","content","onAddToConstructor","onDeleteFromConstructor","onItemClick","onRemoveClick"],"sources":["/Users/apple/Documents/GitHub/react-stellar-burger/src/components/App/App.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport AppHeader from '../AppHeader/AppHeader';\nimport BurgerConstructor from '../BurgerConstructor/BurgerConstructor';\nimport BurgerIngredients from '../BurgerIngredients/BurgerIngredients';\nimport AppStyle from './App.module.css';\n\nconst App = () => {\n  const [constructorItems, setConstructorItems] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n\n  const addToConstructor = (product) => {\n    const existingProductIndex = constructorItems.findIndex(item => item.id === product.id);\n  \n    if (existingProductIndex !== -1) {\n      const updatedItems = [...constructorItems];\n      updatedItems[existingProductIndex] = {\n        ...updatedItems[existingProductIndex],\n        count: updatedItems[existingProductIndex].count + 1,\n      };\n      setConstructorItems(updatedItems);\n    } else {\n      setConstructorItems(prevItems => [\n        ...prevItems,\n        { ...product, id: Date.now(), count: 1 }\n      ]);\n    }\n  \n    setTotalPrice(prevPrice => prevPrice + product.price);\n  };\n  \n  const deleteFromConstructor = (productId, price, count) => {\n    const existingProductIndex = constructorItems.findIndex(item => item.id === productId);\n  \n    if (existingProductIndex !== -1) {\n      const updatedItems = [...constructorItems];\n  \n      if (count > 1) {\n        updatedItems[existingProductIndex] = {\n          ...updatedItems[existingProductIndex],\n          count: updatedItems[existingProductIndex].count - 1,\n        };\n      } else {\n        updatedItems.splice(existingProductIndex, 1);\n      }\n  \n      setConstructorItems(updatedItems);\n      setTotalPrice(prevPrice => prevPrice - (price * count));\n    }\n  };\n\n  const handleItemClick = (item) => {\n    addToConstructor({ ...item, count: item.count + 1 });\n  };\n\n  const handleRemoveClick = (item) => {\n    if (item.count > 0) {\n      deleteFromConstructor(item.id, item.price, item.count);\n    }\n  };\n\n  return (\n    <>\n      <AppHeader />\n      <main className={AppStyle.content}>\n        <BurgerIngredients onAddToConstructor={addToConstructor} />\n        <BurgerConstructor\n          constructorItems={constructorItems}\n          onDeleteFromConstructor={deleteFromConstructor}\n          totalPrice={totalPrice}\n          onItemClick={handleItemClick}\n          onRemoveClick={handleRemoveClick}\n        />\n      </main>\n    </>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}